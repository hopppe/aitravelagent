(()=>{var e={};e.id=162,e.ids=[162],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1832:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(7880),t(9188),t(6083),t(6560);var s=t(3191),a=t(8716),o=t(7922),n=t.n(o),i=t(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["trips",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7880)),"/Users/ethanhoppe/Desktop/AItravelagent/app/trips/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9188)),"/Users/ethanhoppe/Desktop/AItravelagent/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,6083)),"/Users/ethanhoppe/Desktop/AItravelagent/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,6560)),"/Users/ethanhoppe/Desktop/AItravelagent/app/not-found.tsx"]}],c=["/Users/ethanhoppe/Desktop/AItravelagent/app/trips/new/page.tsx"],u="/trips/new/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/trips/new/page",pathname:"/trips/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5507:(e,r,t)=>{Promise.resolve().then(t.bind(t,7733))},7591:(e,r,t)=>{Promise.resolve().then(t.bind(t,2764)),Promise.resolve().then(t.t.bind(t,9404,23)),Promise.resolve().then(t.bind(t,933)),Promise.resolve().then(t.bind(t,6618))},6996:(e,r,t)=>{Promise.resolve().then(t.bind(t,9482))},9236:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1265:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9404,23))},7733:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(326);t(7577);var a=t(312);function o({error:e,reset:r}){return(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[s.jsx(a.Z,{title:"Something went wrong!",message:"An error occurred in the application",details:e.message,suggestion:"You can try resetting the application by clicking below.",actionText:"Try Again",actionFn:r}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg shadow max-w-lg mx-auto",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Additional Troubleshooting:"}),(0,s.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[s.jsx("li",{children:"Check your browser console for specific error details."}),s.jsx("li",{children:"Verify that your environment variables are correctly set up."}),s.jsx("li",{children:"If you're using Supabase, make sure the connection is properly configured."}),s.jsx("li",{children:"Ensure your OpenAI API key is valid and has sufficient credits."}),s.jsx("li",{children:"Try reloading the page or clearing your browser cache."})]})]})]})}},2764:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(326),a=t(7577);class o extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-[400px] flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg border border-gray-200",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Something went wrong"}),s.jsx("div",{className:"text-sm text-gray-700 mb-4",children:this.state.error&&s.jsx("div",{className:"mt-2 p-3 bg-gray-100 rounded text-left overflow-auto",children:s.jsx("p",{className:"font-mono text-xs",children:this.state.error.toString()})})}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We apologize for the inconvenience. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}let n=o},312:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(326);t(7577);let a=({title:e="An error occurred",message:r,details:t,suggestion:a="Please try again",actionText:o="Try Again",actionFn:n})=>s.jsx("div",{className:"p-6 max-w-lg mx-auto my-4 bg-white rounded-lg shadow-md border border-red-100",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),s.jsx("p",{className:"text-gray-600 mb-4",children:r}),t&&s.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md text-sm text-gray-700 text-left overflow-auto max-h-32",children:s.jsx("p",{className:"font-mono",children:t})}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),n&&s.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:o}),(0,s.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[s.jsx("p",{className:"mb-1 font-medium",children:"Troubleshooting Tips:"}),(0,s.jsxs)("ul",{className:"list-disc text-left pl-6",children:[s.jsx("li",{children:"Check that your Supabase credentials are correct in your .env.local file"}),s.jsx("li",{children:"Verify that the OpenAI API key is valid"}),s.jsx("li",{children:"Make sure you've created the 'jobs' table in Supabase"}),s.jsx("li",{children:"Try clearing your browser cache and refreshing"})]})]})]})})},9482:(e,r,t)=>{"use strict";t.d(r,{default:()=>h});var s=t(326),a=t(7577),o=t(5047);let n=e=>"completed"===e,i=e=>"failed"===e,l=({jobId:e,onComplete:r,onError:t,pollingInterval:o=3e3,maxPolls:l=120})=>{let[d,c]=(0,a.useState)("queued"),[u,m]=(0,a.useState)(0),[h,p]=(0,a.useState)("Your itinerary is being generated..."),[g,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[f,j]=(0,a.useState)(0),[v,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)("");(0,a.useEffect)(()=>{if(!e){t("No job ID provided");return}if(n(d)||i(d)||u>=l)return;let s=setTimeout(async()=>{try{console.log(`Polling job status for ${e} (attempt ${u+1})`);let s=Date.now(),a=await fetch(`/api/job-status?jobId=${e}`),o=Date.now()-s;if(console.log(`Job status response received in ${o}ms, status: ${a.status}`),!a.ok){let r;try{r=await a.json(),console.log("Error response body:",r)}catch(e){console.error("Failed to parse error response:",e),r={error:`HTTP Error ${a.status}`}}let t={};if(a.headers.forEach((e,r)=>{t[r]=e}),console.log("Response headers:",t),console.error(`Error response from job-status API: ${a.status}`,r),404===a.status){let r=f+1;if(j(r),console.log(`Job ${e} not found count: ${r}/20`),r>=20){let r=`Job ${e} not found after 20 attempts. The job may have been lost or failed to create properly.`;throw console.error(r),k(r),Error(r)}{console.log(`Job ${e} not found (attempt ${r}/20), will retry`),p(`Your request is being processed (attempt ${r}/20)...`);let t=Math.min(1e3*Math.pow(1.5,r-1),1e4);console.log(`Applying backoff delay of ${t}ms before next attempt`),await new Promise(e=>setTimeout(e,t)),m(e=>e+1);return}}throw Error(r.error||"Failed to fetch job status")}f>0&&j(0);let n=await a.json();switch(c(n.status),y(n),n.status){case"completed":if(n.result?.rawContent)console.log(`[${e}] Job contains raw content`),r(n.result);else if(n.result?.itinerary)console.log(`[${e}] Job contains parsed itinerary`),r(n.result);else{let r="Completed job has no valid result format";console.error(`[${e}] ${r}`),k(r),t(r)}break;case"failed":let i=n.error||"Job failed";console.error(`Job ${e} failed:`,i),k(i),t(i),p("The itinerary generation failed. Please try again.");break;case"processing":console.log(`Job ${e} is processing`),p("Your itinerary is being created. This may take up to 2 minutes...");break;case"queued":console.log(`Job ${e} is queued`),p("Your request is in the queue. Processing will begin shortly...");break;default:console.log(`Job ${e} has status: ${n.status}`),p(`Status: ${n.status}`)}}catch(e){console.error("Error polling job status:",e),w(!0),k(e.message||"Unknown error"),u>5?t(e.message||"Failed to check job status"):p("Failed to check job status. Retrying...")}m(e=>e+1)},o);return()=>clearTimeout(s)},[e,d,u,l,o,r,t,f]);let P=Math.min(Math.floor(u/l*100),99);return n(d)||i(d)?null:!(u>=l)||n(d)||i(d)?(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-md font-medium text-blue-800",children:"Generating your itinerary"}),(0,s.jsxs)("span",{className:"text-sm text-blue-600",children:[P,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full ${(()=>{switch(d){case"completed":return"bg-green-500";case"failed":return"bg-red-500";case"processing":return"bg-blue-500";default:return"bg-gray-500"}})()}`,style:{width:`${P}%`}})}),s.jsx("p",{className:"text-sm text-blue-700 mt-2",children:h}),v&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Encountered some connection issues, retrying..."}),(0,s.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[s.jsx("button",{onClick:()=>x(!g),className:"underline focus:outline-none",children:g?"Hide details":"Show details"}),g&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:[(0,s.jsxs)("p",{children:["Job ID: ",e]}),(0,s.jsxs)("p",{children:["Status: ",d]}),(0,s.jsxs)("p",{children:["Poll count: ",u,"/",l]}),v&&(0,s.jsxs)("p",{className:"text-red-600",children:["Error: ",N]}),b&&s.jsx("pre",{className:"mt-2",children:JSON.stringify(b,null,2)})]})]}),f>0&&s.jsx("div",{className:"mt-2 text-xs text-orange-600",children:(0,s.jsxs)("p",{children:["Job not found (attempt ",f,"/",20,"). Still searching..."]})})]}):(0,s.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Taking longer than expected"}),s.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Your itinerary is still being generated, but it's taking longer than usual."}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700",children:"Refresh page"}),s.jsx("button",{onClick:()=>m(0),className:"px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded hover:bg-gray-200",children:"Keep waiting"})]}),N&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-red-700",children:[(0,s.jsxs)("p",{children:["Error details: ",N]}),s.jsx("p",{className:"mt-1",children:"Try checking your network connection or testing if the API is working."})]})]})};var d=t(312);let c=[{id:"nature",label:"Nature & Outdoors"},{id:"culture",label:"Culture & Arts"},{id:"food",label:"Food & Dining"},{id:"adventure",label:"Adventure Activities"},{id:"relaxation",label:"Relaxation & Wellness"},{id:"history",label:"History & Landmarks"},{id:"nightlife",label:"Nightlife & Entertainment"},{id:"shopping",label:"Shopping"},{id:"family",label:"Family-friendly Activities"}],u=[{id:"vacation",label:"Vacation"},{id:"honeymoon",label:"Honeymoon"},{id:"family",label:"Family Trip"},{id:"solo",label:"Solo Adventure"},{id:"business",label:"Business Trip"},{id:"weekend",label:"Weekend Getaway"},{id:"roadtrip",label:"Road Trip"}],m=[{id:"budget",label:"Budget-friendly",description:"Economical options, hostels, street food"},{id:"moderate",label:"Moderate",description:"Mid-range hotels, some nice restaurants"},{id:"luxury",label:"Luxury",description:"High-end hotels, fine dining, premium experiences"}];function h(){let e=(0,o.useRouter)(),[r,t]=(0,a.useState)("destination"),[n,i]=(0,a.useState)({destination:"",startDate:"",endDate:"",purpose:"",budget:"",preferences:[]}),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[f,j]=(0,a.useState)(null),[v,w]=(0,a.useState)(!1),N=e=>{let{name:r,value:t}=e.target;i({...n,[r]:t})},k=(e,r)=>{i({...n,[e]:r})},P=e=>{let r=n.preferences.includes(e)?n.preferences.filter(r=>r!==e):[...n.preferences,e];i({...n,preferences:r})},S=async()=>{try{w(!0),x(null),j(null);let e=await fetch("/api/test-job"),r=await e.json();if(!e.ok||!r.success)throw Error(r.error||"Connection test failed");return console.log("Job system test successful:",r),!0}catch(e){return console.error("Job system test failed:",e),!1}finally{w(!1)}},A=async()=>{try{let e;if(!await S())throw Error("Job system connection test failed. Please check your Supabase configuration.");p(!0),x(null),j(null),y(null),console.log("Submitting trip form with data:",JSON.stringify(n,null,2)),console.log("Calling API to generate itinerary...");let r=await fetch("/api/generate-itinerary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});console.log("API response status:",r.status);try{e=await r.json(),console.log("Raw API response:",e)}catch(e){throw console.error("Error parsing API response:",e),Error("Invalid response format from server")}if(!r.ok){console.error("API error response:",e);let r=e.error||"Failed to generate itinerary";throw Error(r)}if(console.log("Successfully received response from API"),e.jobId){console.log("Received job ID:",e.jobId),y(e.jobId),"completed"===e.status&&E(e.result);return}if(console.log("Received data structure:",Object.keys(e).join(", ")),!e.itinerary)throw console.error("No itinerary data in API response"),Error("API response missing itinerary data");I(e.itinerary)}catch(t){console.error("Error generating itinerary:",t);let e="An unexpected error occurred",r="";if(t instanceof Error){let s=t.message;r=s,e=s.includes("Supabase")?"Database connection error. Please check your Supabase setup.":s.includes("Failed to fetch")||s.includes("NetworkError")?"Network error: Please check your internet connection and try again.":s.includes("timeout")?"The request timed out. Our servers might be busy, please try again.":s.includes("parse")?"There was a problem with the response from our server. Please try again.":s.includes("pattern")?"There was a problem with the data format. Please try again with different preferences.":s.includes("itinerary")?"We had trouble creating your itinerary. Please try again or modify your preferences.":s}x(e),j(r),p(!1)}},E=e=>{console.log("Job completed with result:",e);try{if(e&&e.rawContent){console.log("Processing raw content from OpenAI");try{let r=JSON.parse(e.rawContent);I(r);return}catch(t){console.error("Error parsing raw JSON:",t);let r=e.rawContent.match(/\{[\s\S]*\}/);if(r)try{let e=JSON.parse(r[0]);console.log("Successfully extracted JSON from raw content"),I(e);return}catch(e){console.error("Error parsing extracted JSON:",e)}x("Failed to parse the generated itinerary. Please try again."),j("The AI generated an invalid JSON response."),p(!1);return}}if(e&&e.itinerary){I(e.itinerary);return}throw Error("Invalid result format from job")}catch(e){console.error("Error processing job result:",e),x("Error processing the generated itinerary"),j("Error processing the generated itinerary"),p(!1)}},I=r=>{try{if(console.log("Saving itinerary to localStorage..."),!r.days||!Array.isArray(r.days))throw console.error("Invalid itinerary structure - days array is missing or not an array"),Error("Invalid itinerary structure received");console.log(`Itinerary has ${r.days.length} days`);let t=0;for(let e of r.days){if(!e.activities||!Array.isArray(e.activities)){e.activities=[];continue}for(let r of e.activities)r&&"object"==typeof r&&(r.coordinates&&"object"==typeof r.coordinates?("number"!=typeof r.coordinates.lat&&void 0!==r.coordinates.lat?(r.coordinates.lat=parseFloat(String(r.coordinates.lat))||40.7128,t++):void 0===r.coordinates.lat&&(r.coordinates.lat=40.7128,t++),"number"!=typeof r.coordinates.lng&&void 0!==r.coordinates.lng?(r.coordinates.lng=parseFloat(String(r.coordinates.lng))||-74.006,t++):void 0===r.coordinates.lng&&(r.coordinates.lng=-74.006,t++)):(r.coordinates={lat:40.7128,lng:-74.006},t++))}if(t>0&&console.log(`Fixed ${t} coordinate issues in the itinerary`),r.days.length>0&&r.days[0].activities?.length>0){let e=r.days[0].activities[0];console.log("First activity before storing:",{title:e.title,hasCoordinates:!!e.coordinates,coordinates:e.coordinates?JSON.stringify(e.coordinates):"none"});let t=r.days[0].activities.filter(e=>!e.coordinates||"object"!=typeof e.coordinates||void 0===e.coordinates.lat||void 0===e.coordinates.lng);console.log(`First day has ${t.length} activities with missing coordinates out of ${r.days[0].activities.length} total`)}let s=JSON.stringify(r);console.log("Stringified length:",s.length),localStorage.setItem("generatedItinerary",s),console.log("Successfully saved to localStorage"),console.log("Navigating to generated trip page..."),e.push("/trips/generated-trip")}catch(e){throw console.error("Error saving to localStorage:",e),Error("Failed to save itinerary data: "+(e instanceof Error?e.message:"Unknown error"))}};return["destination","dates","purpose","budget","preferences"].indexOf(r),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(()=>{switch(r){case"destination":return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Where do you want to go?"}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),s.jsx("input",{id:"destination",name:"destination",type:"text",value:n.destination,onChange:N,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-primary focus:border-primary",placeholder:"City, country, or region",required:!0})]})]});case"dates":return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"When are you traveling?"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200",children:[s.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium bg-gray-50 p-3 border-b border-gray-200",children:"Start Date"}),s.jsx("input",{id:"startDate",name:"startDate",type:"date",value:n.startDate,onChange:N,className:"w-full p-4 text-lg focus:ring-primary focus:border-primary calendar-input",required:!0})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200",children:[s.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium bg-gray-50 p-3 border-b border-gray-200",children:"End Date"}),s.jsx("input",{id:"endDate",name:"endDate",type:"date",value:n.endDate,onChange:N,className:"w-full p-4 text-lg focus:ring-primary focus:border-primary calendar-input",required:!0})]})]}),s.jsx("p",{className:"text-sm text-gray-500 italic mt-2",children:"Select your travel dates to help us plan the perfect itinerary length."})]});case"purpose":return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"What's the purpose of your trip?"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(e=>s.jsx("div",{className:`
                    p-4 border rounded-md cursor-pointer transition-all
                    ${n.purpose===e.id?"border-primary bg-primary bg-opacity-10":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                  `,onClick:()=>k("purpose",e.id),children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-4 w-4 flex items-center justify-center",children:s.jsx("div",{className:`rounded-full ${n.purpose===e.id?"h-4 w-4 bg-primary":"h-3 w-3 border border-gray-400"}`})}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:e.label})]})},e.id))})]});case"budget":return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"What's your budget range?"}),s.jsx("div",{className:"space-y-3",children:m.map(e=>s.jsx("div",{className:`
                    p-4 border rounded-md cursor-pointer transition-all
                    ${n.budget===e.id?"border-primary bg-primary bg-opacity-10":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                  `,onClick:()=>k("budget",e.id),children:(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("div",{className:"h-4 w-4 mt-1 flex items-center justify-center",children:s.jsx("div",{className:`rounded-full ${n.budget===e.id?"h-4 w-4 bg-primary":"h-3 w-3 border border-gray-400"}`})}),(0,s.jsxs)("div",{className:"ml-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.label}),s.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]})},e.id))})]});case"preferences":return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"What do you enjoy when traveling?"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Select all that apply. This helps us tailor your itinerary."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:c.map(e=>s.jsx("div",{className:`
                    p-3 border rounded-md cursor-pointer transition-all
                    ${n.preferences.includes(e.id)?"border-primary bg-primary bg-opacity-10":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                  `,onClick:()=>P(e.id),children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-4 w-4 flex items-center justify-center",children:s.jsx("div",{className:`${n.preferences.includes(e.id)?"h-3 w-3 bg-primary rounded-sm":"h-3 w-3 border border-gray-400 rounded-sm"}`})}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:e.label})]})},e.id))})]})}})(),g&&s.jsx(d.Z,{title:"Error Generating Itinerary",message:g,details:f||void 0,suggestion:"Please try again or modify your preferences",actionText:"Try Again",actionFn:()=>{x(null),j(null)}}),(0,s.jsxs)("div",{className:"flex justify-between mt-6",children:["destination"!==r&&s.jsx("button",{type:"button",onClick:()=>{switch(r){case"dates":t("destination");break;case"purpose":t("dates");break;case"budget":t("purpose");break;case"preferences":t("budget")}},disabled:h,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:"Back"}),s.jsx("div",{className:`${"destination"===r?"ml-auto":""}`,children:s.jsx("button",{type:"button",onClick:()=>{switch(r){case"destination":n.destination&&t("dates");break;case"dates":n.startDate&&n.endDate&&t("purpose");break;case"purpose":n.purpose&&t("budget");break;case"budget":n.budget&&t("preferences");break;case"preferences":A()}},disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:"preferences"===r?"Generate Itinerary":"Next"})})]}),h?b?s.jsx(l,{jobId:b,onComplete:E,onError:e=>{console.error("Job error:",e),x(e),j(e),p(!1)},pollingInterval:2e3,maxPolls:60}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Generating Your Itinerary"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This may take up to a minute..."})]})}):null]})}},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},6083:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/ethanhoppe/Desktop/AItravelagent/app/error.tsx#default`)},9188:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>l});var s=t(9510);t(7272);var a=t(7371),o=t(1871);function n(){return s.jsx("nav",{className:"bg-primary text-white shadow-md",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,s.jsxs)(a.default,{href:"/",className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(o.NqP,{className:"text-2xl"}),s.jsx("span",{children:"AI Travel Agent"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(a.default,{href:"/trips",className:"hover:text-accent transition-colors",children:"My Trips"}),(0,s.jsxs)(a.default,{href:"/profile",className:"flex items-center gap-1 hover:text-accent transition-colors",children:[s.jsx(o.Xws,{}),s.jsx("span",{children:"Profile"})]})]})]})})}let i=(0,t(8318).default)(()=>t.e(546).then(t.bind(t,9546)),{loadableGenerated:{modules:["app/layout.tsx -> ../components/ErrorBoundary"]},ssr:!1}),l={title:"AI Travel Agent",description:"Plan your perfect trip with the help of AI"};function d({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:"min-h-screen bg-light",children:[s.jsx(n,{}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx(i,{children:e})})]})})}},6560:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(9510),a=t(7371);function o(){return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[s.jsx("h1",{className:"text-6xl font-bold text-red-500 mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),s.jsx(a.default,{href:"/",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200",children:"Return to Home"})]})})}},7880:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(9510);let a=(0,t(8570).createProxy)(String.raw`/Users/ethanhoppe/Desktop/AItravelagent/components/trips/TripSurveyForm.tsx#default`);function o(){return(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Create Your Trip"}),s.jsx(a,{})]})}},7272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,481],()=>t(1832));module.exports=s})();
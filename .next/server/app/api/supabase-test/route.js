"use strict";(()=>{var e={};e.id=3,e.ids=[3],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},5315:e=>{e.exports=require("path")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},4069:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>b,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var r={};t.r(r),t.d(r,{GET:()=>l,maxDuration:()=>c,runtime:()=>p});var a=t(9303),o=t(8716),u=t(3131),n=t(7070),i=t(5662);let p="nodejs",c=15;async function l(e){let s={timestamp:new Date().toISOString(),environment:"production",tests:{},errors:[]};try{s.tests.envVars={hasUrl:!0,hasKey:!0,urlLength:40,keyPrefix:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvYWlla3F3ZmxvandpY2Vqdm5lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MzM2MzMsImV4cCI6MjA2MDUwOTYzM30.E70hBHGjbvCJPjYpMmlMIMvyfyBlotOwP01YaXf37Mg".substring(0,5)||0};try{let{data:e,error:t}=await i.OQ.from("jobs").select("count").limit(1);s.tests.connection={success:!t,error:t?{code:t.code,message:t.message}:null,data:e}}catch(e){s.tests.connection={success:!1,error:{message:e.message}},s.errors.push(`Connection error: ${e.message}`)}let e=`test_${Date.now()}`,t=!1;try{let r=await (0,i.Cq)(e);t=r,s.tests.createJob={success:r,jobId:e}}catch(e){s.tests.createJob={success:!1,error:{message:e.message}},s.errors.push(`Job creation error: ${e.message}`)}if(t){try{let t=await (0,i.jW)(e);s.tests.getJobStatus={success:"not_found"!==t.status,status:t.status},"not_found"===t.status&&s.errors.push("Job status error: Job not found immediately after creation")}catch(e){s.tests.getJobStatus={success:!1,error:{message:e.message}},s.errors.push(`Job status error: ${e.message}`)}try{let t=await (0,i.L2)(e,"completed",{result:{test:"Successful test"}});s.tests.updateJobStatus={success:t},t||s.errors.push("Job update error: Failed to update job status")}catch(e){s.tests.updateJobStatus={success:!1,error:{message:e.message}},s.errors.push(`Job update error: ${e.message}`)}}return s.success=0===s.errors.length,s.message=s.success?"All Supabase connectivity tests passed successfully!":`Failed ${s.errors.length} tests. See 'errors' for details.`,n.NextResponse.json(s)}catch(e){return n.NextResponse.json({success:!1,message:"Error running Supabase connectivity tests",error:e.message,timestamp:new Date().toISOString()},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/supabase-test/route",pathname:"/api/supabase-test",filename:"route",bundlePath:"app/api/supabase-test/route"},resolvedPagePath:"/Users/ethanhoppe/Desktop/AItravelagent/app/api/supabase-test/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:h}=m,b="/api/supabase-test/route";function x(){return(0,u.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,972,518,662],()=>t(4069));module.exports=r})();
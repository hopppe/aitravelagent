(()=>{var e={};e.id=411,e.ids=[411],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},803:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(9594),t(9188),t(6083),t(6560);var r=t(3191),a=t(8716),l=t(7922),n=t.n(l),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["api-debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9594)),"/Users/ethanhoppe/Desktop/AItravelagent/app/api-debug/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9188)),"/Users/ethanhoppe/Desktop/AItravelagent/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,6083)),"/Users/ethanhoppe/Desktop/AItravelagent/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,6560)),"/Users/ethanhoppe/Desktop/AItravelagent/app/not-found.tsx"]}],c=["/Users/ethanhoppe/Desktop/AItravelagent/app/api-debug/page.tsx"],h="/api-debug/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/api-debug/page",pathname:"/api-debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},190:(e,s,t)=>{Promise.resolve().then(t.bind(t,9618))},5507:(e,s,t)=>{Promise.resolve().then(t.bind(t,7733))},7591:(e,s,t)=>{Promise.resolve().then(t.bind(t,2764)),Promise.resolve().then(t.t.bind(t,9404,23)),Promise.resolve().then(t.bind(t,933)),Promise.resolve().then(t.bind(t,6618))},9236:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1265:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,9404,23))},9618:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(326),a=t(7577),l=t(434);function n(){let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[p,b]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1),f=async()=>{n(!0),u(null);try{let e=await fetch("/api/supabase-test"),t=await e.json();s(t)}catch(e){u(e.message||"Failed to test API")}finally{n(!1)}},v=async()=>{if(!i.trim()){u("Please enter a job ID");return}x(!0),u(null);try{let e=await fetch(`/api/job-status?jobId=${i}`),s=await e.json();e.ok?c(s):(u(s.error||`Error: ${e.status}`),c(null))}catch(e){u(e.message||"Failed to check job status"),c(null)}finally{x(!1)}},N=async()=>{j(!0),u(null);try{let e=await fetch("/api/debug-job-creation"),s=await e.json();b(s),s.jobId&&o(s.jobId)}catch(e){u(e.message||"Failed to create test job")}finally{j(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto p-4 max-w-4xl",children:[(0,r.jsxs)("header",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"API and Supabase Debug Page"}),r.jsx("p",{className:"text-gray-600",children:"Use this page to diagnose issues with the API and Supabase connection"}),r.jsx("div",{className:"mt-2",children:r.jsx(l.default,{href:"/",className:"text-blue-600 hover:text-blue-800",children:"Return to Home"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,r.jsxs)("section",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create Test Job"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a test job and check if it can be found immediately. This helps diagnose job creation and retrieval issues."}),r.jsx("button",{onClick:N,disabled:g,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:bg-purple-300",children:g?"Creating...":"Create Test Job"}),p&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg",children:["Job Creation: ",r.jsx("span",{className:p.success?"text-green-600":"text-red-600",children:p.success?"SUCCESS":"FAILED"})]}),r.jsx("p",{className:"my-2",children:p.message}),p.jobId&&(0,r.jsxs)("p",{className:"text-sm",children:["Job ID: ",r.jsx("span",{className:"font-mono bg-gray-100 px-1",children:p.jobId})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold",children:"Creation Results:"}),r.jsx("pre",{className:"mt-2 bg-gray-100 p-3 rounded text-sm overflow-auto max-h-96",children:JSON.stringify(p,null,2)})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("section",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Supabase Connection Test"}),r.jsx("button",{onClick:f,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",children:t?"Testing...":"Run Supabase Test"}),e&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg",children:["Status: ",r.jsx("span",{className:e.success?"text-green-600":"text-red-600",children:e.success?"SUCCESS":"FAILED"})]}),r.jsx("p",{className:"my-2",children:e.message}),e.errors&&e.errors.length>0&&(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("h4",{className:"font-semibold",children:"Errors:"}),r.jsx("ul",{className:"list-disc pl-5",children:e.errors.map((e,s)=>r.jsx("li",{className:"text-red-600",children:e},s))})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold",children:"Test Results:"}),r.jsx("pre",{className:"mt-2 bg-gray-100 p-3 rounded text-sm overflow-auto max-h-96",children:JSON.stringify(e,null,2)})]})]})]}),(0,r.jsxs)("section",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Check Job Status"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[r.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Enter Job ID",className:"flex-1 px-3 py-2 border rounded"}),r.jsx("button",{onClick:v,disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-green-300",children:h?"Checking...":"Check Status"})]}),m&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700",children:m}),d&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg",children:["Job Status: ",r.jsx("span",{className:"completed"===d.status?"text-green-600":"failed"===d.status?"text-red-600":"text-blue-600",children:d.status.toUpperCase()})]}),d.error&&(0,r.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-100 rounded",children:[r.jsx("h4",{className:"font-semibold",children:"Error:"}),r.jsx("p",{className:"text-red-700",children:d.error})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold",children:"Full Response:"}),r.jsx("pre",{className:"mt-2 bg-gray-100 p-3 rounded text-sm overflow-auto max-h-96",children:JSON.stringify(d,null,2)})]})]})]})]})]})]})}},7733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(326);t(7577);var a=t(312);function l({error:e,reset:s}){return(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[r.jsx(a.Z,{title:"Something went wrong!",message:"An error occurred in the application",details:e.message,suggestion:"You can try resetting the application by clicking below.",actionText:"Try Again",actionFn:s}),(0,r.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg shadow max-w-lg mx-auto",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Additional Troubleshooting:"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[r.jsx("li",{children:"Check your browser console for specific error details."}),r.jsx("li",{children:"Verify that your environment variables are correctly set up."}),r.jsx("li",{children:"If you're using Supabase, make sure the connection is properly configured."}),r.jsx("li",{children:"Ensure your OpenAI API key is valid and has sufficient credits."}),r.jsx("li",{children:"Try reloading the page or clearing your browser cache."})]})]})]})}},2764:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(326),a=t(7577);class l extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-[400px] flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg border border-gray-200",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Something went wrong"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4",children:this.state.error&&r.jsx("div",{className:"mt-2 p-3 bg-gray-100 rounded text-left overflow-auto",children:r.jsx("p",{className:"font-mono text-xs",children:this.state.error.toString()})})}),r.jsx("p",{className:"text-gray-600 mb-4",children:"We apologize for the inconvenience. Please try refreshing the page."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}let n=l},312:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(326);t(7577);let a=({title:e="An error occurred",message:s,details:t,suggestion:a="Please try again",actionText:l="Try Again",actionFn:n})=>r.jsx("div",{className:"p-6 max-w-lg mx-auto my-4 bg-white rounded-lg shadow-md border border-red-100",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),r.jsx("p",{className:"text-gray-600 mb-4",children:s}),t&&r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md text-sm text-gray-700 text-left overflow-auto max-h-32",children:r.jsx("p",{className:"font-mono",children:t})}),r.jsx("p",{className:"text-gray-600 mb-6",children:a}),n&&r.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:l}),(0,r.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[r.jsx("p",{className:"mb-1 font-medium",children:"Troubleshooting Tips:"}),(0,r.jsxs)("ul",{className:"list-disc text-left pl-6",children:[r.jsx("li",{children:"Check that your Supabase credentials are correct in your .env.local file"}),r.jsx("li",{children:"Verify that the OpenAI API key is valid"}),r.jsx("li",{children:"Make sure you've created the 'jobs' table in Supabase"}),r.jsx("li",{children:"Try clearing your browser cache and refreshing"})]})]})]})})},434:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(9404),a=t.n(r)},9594:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/ethanhoppe/Desktop/AItravelagent/app/api-debug/page.tsx#default`)},6083:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/ethanhoppe/Desktop/AItravelagent/app/error.tsx#default`)},9188:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>o});var r=t(9510);t(7272);var a=t(7371),l=t(1871);function n(){return r.jsx("nav",{className:"bg-primary text-white shadow-md",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,r.jsxs)(a.default,{href:"/",className:"flex items-center gap-2 text-xl font-bold",children:[r.jsx(l.NqP,{className:"text-2xl"}),r.jsx("span",{children:"AI Travel Agent"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(a.default,{href:"/trips",className:"hover:text-accent transition-colors",children:"My Trips"}),(0,r.jsxs)(a.default,{href:"/profile",className:"flex items-center gap-1 hover:text-accent transition-colors",children:[r.jsx(l.Xws,{}),r.jsx("span",{children:"Profile"})]})]})]})})}let i=(0,t(8318).default)(()=>t.e(546).then(t.bind(t,9546)),{loadableGenerated:{modules:["app/layout.tsx -> ../components/ErrorBoundary"]},ssr:!1}),o={title:"AI Travel Agent",description:"Plan your perfect trip with the help of AI"};function d({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:"min-h-screen bg-light",children:[r.jsx(n,{}),r.jsx("main",{className:"container mx-auto px-4 py-8",children:r.jsx(i,{children:e})})]})})}},6560:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(9510),a=t(7371);function l(){return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[r.jsx("h1",{className:"text-6xl font-bold text-red-500 mb-4",children:"404"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),r.jsx(a.default,{href:"/",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200",children:"Return to Home"})]})})}},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,481],()=>t(803));module.exports=r})();